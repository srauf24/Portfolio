{"version":3,"file":"setAllPersonProfilePropertiesAsPersonPropertiesForFlags.js","sourceRoot":"","sources":["../../../src/customizations/setAllPersonProfilePropertiesAsPersonPropertiesForFlags.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,eAAe,EAAE,0BAA0B,EAAE,IAAI,EAAE,MAAM,sBAAsB,CAAA;AACxF,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,UAAU,CAAA;AACvC,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAA;AAEhD,MAAM,CAAC,IAAM,uDAAuD,GAAG,UAAC,OAAgB;IACpF,IAAM,aAAa,GAAG,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAA;IAC/F,IAAM,gBAAgB,GAA2B,EAAE,CAAA;IACnD,IAAI,CAAC,aAAa,EAAE,UAAU,CAAC,EAAE,CAAS;QACtC,IAAI,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC,IAAI,QAAQ,CAAC,0BAA0B,EAAE,CAAC,CAAC,EAAE,CAAC;YAC1E,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;QAC3B,CAAC;IACL,CAAC,CAAC,CAAA;IAEF,OAAO,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,CAAA;AACzD,CAAC,CAAA","sourcesContent":["import { PostHog } from '../posthog-core'\nimport { CAMPAIGN_PARAMS, EVENT_TO_PERSON_PROPERTIES, Info } from '../utils/event-utils'\nimport { each, extend } from '../utils'\nimport { includes } from '../utils/string-utils'\n\nexport const setAllPersonProfilePropertiesAsPersonPropertiesForFlags = (posthog: PostHog): void => {\n    const allProperties = extend({}, Info.properties(), Info.campaignParams(), Info.referrerInfo())\n    const personProperties: Record<string, string> = {}\n    each(allProperties, function (v, k: string) {\n        if (includes(CAMPAIGN_PARAMS, k) || includes(EVENT_TO_PERSON_PROPERTIES, k)) {\n            personProperties[k] = v\n        }\n    })\n\n    posthog.setPersonPropertiesForFlags(personProperties)\n}\n"]}